@page "/Users"
<h3>Users</h3>

@inherits UserComponent

<table border="1">
	<tr>
		<th> Search for Users</th>
			<td>
<div style="padding: 10px;">
	<EditForm Model="@ListOfUsers" OnSubmit="@FilterByUserSearch">
		<InputText @bind-Value="@search" placeholder="Enter UserName" />
		<button type="submit">Filter By Details</button>
	</EditForm>
</div>
			</td>
	
		<th>Create New User</th>
			<td>
<div style="padding: 10px;">
	<EditForm Model="@newUser" OnSubmit="@AddUser">
		<InputText @bind-Value="@newUser!.UserName" placeholder="Enter User Name" />
		<button type="submit">Create User</button>
	</EditForm>
		
</div>
			</td>

		<th>Delete a User</th>
			<td>
<div style="padding: 10px;">
	<EditForm Model="@userToDelete" OnSubmit="@DeleteUser">
		<InputText @bind-Value="@userToDelete.UserName" placeholder="Enter User Name" />
		<button type="submit">Delete User</button>
	</EditForm>
	
</div>
			</td>
	</tr>
</table>
@if (ListOfUsers == null || ListOfUsers.Count == 0)
{
	<p style="color: red; font-weight: bold;">
		No Users have been found
	</p>

}
else
{
	<table>
		@foreach (var users in ListOfUsers)
		{
			<li>@users.UserName</li>
		}
	</table>
}

@* 
						Homework: 
	-format list into Table (3 columns) (w3 schools)
	-add delete button in table on 3rd column which deletes entire row 
	-figure out how to retrieve deleted rows in SQL

	--------------------------------------------------------------------------------------------------------
	
	-add note functionality
	-get rid of car list in saved vs file and create in database
	-figure out how to save databse for future use
	-azure credits (create a server for testing "Azure SQL")
*@